<!DOCTYPE html>
<html lang="kr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <link href="../static/css/index.css" rel="stylesheet" type="text/css"/>
    <title>CAC</title>
</head>
<header>
    <div th:replace="./nav.html"></div>
</header>
<body>
<div class="container-fluid">
    <div class="row">
        <div th:replace="./sidebar.html"></div>
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <form action="/" class="d-flex search" method="GET" role="search">
                <input class="form-control me-2" id="search" name="keyword" placeholder="Search" type="text">
                <button class="btn btn-success">Search</button>
            </form>
            <table class="table table-striped table-sm">
                <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">건물명</th>
                    <th scope="col">지역</th>
                    <th scope="col">나이</th>
                    <th scope="col">관계</th>
                    <th scope="col">나감</th>
                    <th scope="col">받음</th>
                    <th scope="col">등록일</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="user : ${paging}">
                    <th scope="row" th:text="${user.id}">id</th>
                    <td th:text="${user.title}">title</td>
                    <td th:text="${user.location}">location</td>
                    <td th:text="${user.age}">age</td>
                    <td th:text="${user.relationship}">relationship</td>
                    <td th:text="${user.money_spent}">1</td>
                    <td th:text="${user.received_money}">2</td>
                    <td th:text="${user.create_date}">3</td>
                    <td><a th:href="@{/board/delete(id=${user.id})}">삭제</a></td>
                </tr>
                </tbody>
            </table>
            <div th:if="${!paging.isEmpty()}">
                <ul class="pagination justify-content-center">
                    <li class="page-item" th:classappend="${!paging.hasPrevious} ? 'disabled'">
                        <a class="page-link"
                           th:href="@{|?page=${paging.number-1}&keyword=${keyword}|}">
                            <span>이전</span>
                        </a>
                    </li>
                    <li th:each="page: ${#numbers.sequence(0, paging.totalPages-1)}"
                        th:if="${page >= paging.number-2 and page <= paging.number+2}"
                        th:classappend="${page == paging.number} ? 'active'"
                        class="page-item">
                        <a th:text="${page+1}" class="page-link" th:href="@{|?page=${page}&keyword=${keyword}|}"></a>
                    </li>
                    <li class="page-item" th:classappend="${!paging.hasNext} ? 'disabled'">
                        <a class="page-link" th:href="@{|?page=${paging.number+1}&keyword=${keyword}|}">
                            <span>다음</span>
                        </a>
                    </li>
                </ul>
            </div>
        </main>
    </div>
</div>
</body>
</html>